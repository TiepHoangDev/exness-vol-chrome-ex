chrome.runtime.onMessage.addListener((t,o,r)=>{if(t.action==="fetchData")return a(t.url,t.token).then(e=>r({success:!0,data:e})).catch(e=>r({success:!1,error:e.toString()})),!0});async function a(t,o){try{const r=await fetch(t,{method:"GET",headers:{Accept:"application/json, text/plain, */*",Authorization:"Bearer "+o}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Background fetch error:",r),r}}
